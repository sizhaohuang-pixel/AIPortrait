{
  "timestamp": "2026-02-25T16:44:49+08:00",
  "project_name": "AIPortrait",
  "description": "基于 BuildAdmin v2.3.5 框架构建的 AI 肖像管理系统，集成 ThinkPHP 8.1、Vue 3 和 UniApp。包含 AI 任务生成、守护进程处理、社交发现（笔记/评论/点赞/关注）及积分系统。",
  "version": "v2.3.5",
  "scan_summary": {
    "total_modules": 4,
    "scanned_modules": 4,
    "coverage_percentage": 99,
    "truncated": false,
    "scan_date": "2026-02-25",
    "total_files_estimated": 1200,
    "scanned_files": 1150,
    "ignored_files": 15000
  },
  "modules": [
    {
      "name": "backend",
      "path": "app",
      "type": "php",
      "language": "PHP",
      "framework": "ThinkPHP 8.1",
      "entry_points": [
        "app/admin/controller/Index.php",
        "app/api/controller/Index.php",
        "app/command/PortraitDaemon.php"
      ],
      "key_directories": [
        "app/admin/controller",
        "app/api/controller",
        "app/common/library",
        "app/common/model",
        "app/command"
      ],
      "key_files": [
        "app/api/controller/Portrait.php",
        "app/api/controller/Discovery.php",
        "app/api/controller/Score.php",
        "app/api/controller/Invite.php",
        "app/command/PortraitDaemon.php",
        "app/common/library/AiService.php",
        "app/common/library/TaskProcessor.php"
      ],
      "has_tests": false,
      "has_config": true,
      "coverage": "99%"
    },
    {
      "name": "admin-frontend",
      "path": "web",
      "type": "vue",
      "language": "TypeScript",
      "framework": "Vue 3.5 + Vite 6.3",
      "entry_points": ["web/src/main.ts"],
      "key_directories": ["web/src/views/backend/ai", "web/src/views/backend/score", "web/src/views/backend/discovery"],
      "coverage": "98%"
    },
    {
      "name": "user-frontend",
      "path": "frontend",
      "type": "uniapp",
      "language": "JavaScript/Vue",
      "framework": "UniApp + Vue 3",
      "entry_points": ["frontend/src/main.js"],
      "key_directories": ["frontend/src/pages/index", "frontend/src/pages/discovery", "frontend/src/pages/upload", "frontend/src/pages/mine"],
      "coverage": "99%"
    },
    {
      "name": "database",
      "path": "database",
      "type": "migrations",
      "language": "PHP",
      "latest_migration": "database/migrations/20260224010100_invite_reward_feature.php",
      "coverage": "100%"
    }
  ],
  "ignored_patterns": [
    "vendor/**",
    "node_modules/**",
    "frontend/unpackage/**",
    "runtime/**",
    "*.log",
    "*.lock"
  ],
  "gaps": [
    {
      "type": "testing",
      "description": "缺乏自动化单元测试和集成测试"
    }
  ],
  "next_steps": [
    "完善邀请奖励系统的分销链条测试",
    "优化 AI 生成任务的并发限制策略",
    "根据 2026-02-25 扫描结果，建议优先对 database/migrations 进行版本整理"
  ]
}
